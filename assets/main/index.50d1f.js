System.register("chunks:///_virtual/AnswerBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,i,o,c,l,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Label,a=e.Component}],execute:function(){var s,u,p,f,y;o._RF.push({},"925a4cqMwFHBZJgpVlviuq+","AnswerBlock",void 0);var d=c.ccclass,w=c.property;e("AnswerBlock",(s=d("AnswerBlock"),u=w(l),s((y=r((f=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,t(r,"text",y,i(r)),r.displayIndex=-1,r.answerIndex=-1,r}return n(r,e),r}(a)).prototype,"text",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc","./MathUtil.ts"],(function(n){var t,r;return{setters:[function(n){t=n.cclegacy},function(n){r=n.MathUtil}],execute:function(){t._RF.push({},"7e776ZcK7NBmJvOeUlGD2UE","ArrayUtil",void 0);n("ArrayUtil",function(){function n(){}return n.equal=function(n,t){if(null==n||null==t)return n==t;if(n.length!=t.length)return!1;for(var r=!0,e=0;e<n.length;e++)if(n[e]!=t[e]){r=!1;break}return r},n.random=function(n){return n.length<=0?null:1===n.length?n[0]:n[r.random(0,n.length-1)]},n.randomAll=function(n){if(n.length<=0)return n;for(var t=n.length-1;t>0;t--){var e=r.random(0,t),l=[n[t],n[e]];n[e]=l[0],n[t]=l[1]}return n},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,u,e,t,n,c,r,s;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,e=o.AudioClip,t=o.resources,n=o.sys,c=o.Node,r=o.director,s=o.AudioSource}],execute:function(){u._RF.push({},"83279C8N39BSKM6oR4LMMu5","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new c;o.name="__audioMgr__",r.getScene().addChild(o),r.addPersistRootNode(o),this._audioSource=o.addComponent(s)}var u=o.prototype;return u.init=function(){},u.playOneShot=function(o,i){var u=this;void 0===i&&(i=1),o instanceof e?this._audioSource.playOneShot(o,i):t.load(o,(function(o,e){o?console.log(o):u._audioSource.playOneShot(e,i)}))},u.play=function(o,i){var u=this;void 0===i&&(i=1),"1"==(n.localStorage.getItem("music_on")||"1")&&(o instanceof e?(this._audioSource.clip=o,this._audioSource.play(),this._audioSource.loop=!0,this.audioSource.volume=i):t.load(o,(function(o,e){o?console.log(o):(u._audioSource.clip=e,u._audioSource.play(),u._audioSource.loop=!0,u.audioSource.volume=i)})))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(t){var n,o,e,i,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.NodeEventType,c=t.Component},function(t){u=t.AudioMgr}],execute:function(){var s;o._RF.push({},"09b45yhsbRAZbl/eHpD88ZP","ButtonEffect",void 0);var r=e.ccclass;e.property,t("ButtonEffect",r("ButtonEffect")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){this.node.on(i.TOUCH_END,this.playClick,this),this.node.on(i.TOUCH_CANCEL,this.playClick,this)},e.playClick=function(){u.inst.playOneShot("sound/btn_click")},e.update=function(t){},o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/CreateScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,i,o,a,l,s,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.EditBox,s=e.Node,c=e.Component}],execute:function(){var u,p,h,d,f,g,v,C,y;o._RF.push({},"fa574eEwpxImbtBlb8AnEJH","CreateScene",void 0);var m=a.ccclass,b=a.property;e("CreateScene",(u=m("CreateScene"),p=b(l),h=b(s),d=b(s),u((v=n((g=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,r(n,"level",v,i(n)),r(n,"displayContainer",C,i(n)),r(n,"answerContainer",y,i(n)),n}t(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){},o.onClick=function(){if(""!=this.level.string){for(var e=Number(this.level.string),n=0,t=[],r=0;r<this.displayContainer.children.length;r++){var i=this.displayContainer.children[r].getComponent(l).string;null==i||""==i?t.push(""):t.push(i),"_"===i&&n++}for(var o=[],a=0;a<this.answerContainer.children.length;a++){var s=this.answerContainer.children[a].getComponent(l).string;null!=s&&""!=s&&o.push(s)}if(n==o.length){var c={level:e,display:t,answer:o};console.log(JSON.stringify(c));var u=function(e){e.clipboardData.setData("text/plain",JSON.stringify(c)),e.preventDefault()};document.addEventListener("copy",u),document.execCommand("copy"),document.removeEventListener("copy",u)}else console.error("答案对不上")}else console.error("没有关卡id")},o.onClear=function(){for(var e=0;e<this.displayContainer.children.length;e++)this.displayContainer.children[e].getComponent(l).string="";for(var n=0;n<this.answerContainer.children.length;n++)this.answerContainer.children[n].getComponent(l).string=""},n}(c)).prototype,"level",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(g.prototype,"displayContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"answerContainer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e("tag",(function(e,n,t){window.gtag&&gtag(e,n,t)})),n._RF.push({},"31ff2Woa/ZMP6+KQsdOe8MT","Define",void 0);e("getPlayerTitle",(function(e){return e>=100?"状元":e>=90?"榜眼":e>=80?"探花":e>=60?"进士":e>=50?"贡士":e>=25?"举人":e>=10?"秀才":"无"})),e("getPlayerIcon",(function(e){return e>=100?6:e>=90?5:e>=80?4:e>=60?3:e>=50?2:e>=25?1:e>=10?0:-1})),e("isSpecialLevel",(function(e){return 100==e||(90==e||(80==e||(60==e||(50==e||(25==e||10==e)))))})),e("getClassLevel",(function(e){return e>=51?3:e>=26?2:e>=11?1:e>=1?0:-1})),e("getClassLevelName",(function(e){return 3==e?"dianshi":2==e?"huishi":1==e?"xiangshi":0==e?"tongshi":""})),e("ONE_LEVEL_NUM",10),e("ONE_LEVEL_DATA_NUM",17),e("MAX_LEVEL_NUM",170);n._RF.pop()}}}));

System.register("chunks:///_virtual/DisplayBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,s,o,l,a,p,u,c,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,l=t._decorator,a=t.Sprite,p=t.Label,u=t.SpriteFrame,c=t.tween,h=t.Vec3,f=t.Component}],execute:function(){var g,y,m,d,_,w,b,k,S,D,I,x,C,R,z;o._RF.push({},"6ed7455SYhLf4IkDpGB+cSd","DisplayBlock",void 0);var v=l.ccclass,B=l.property,F=t("BlockType",function(t){return t[t.None=0]="None",t[t.Display=1]="Display",t[t.Input=2]="Input",t}({}));t("DisplayBlock",(g=v("DisplayBlock"),y=B(a),m=B(p),d=B(u),_=B(u),w=B(u),b=B(u),g((D=e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"img",D,r(e)),n(e,"text",I,r(e)),n(e,"noramlSpf",x,r(e)),n(e,"checkedSpf",C,r(e)),n(e,"wrongSpf",R,r(e)),n(e,"rightSpf",z,r(e)),e.type=F.None,e.row=-1,e.col=-1,e.answerDisplayIndex=-1,e._inputIndex=-1,e._isChecked=!1,e._isRight=!1,e._answer="",e._input="",e._isCompleted=!1,e}i(e,t);var o=e.prototype;return o.playRight=function(t){this._isCompleted=!0,this.img.spriteFrame=this.rightSpf,c(this.img.node).delay(.03*t).to(.2,{scale:new h(1.2,1.2,1.2)}).to(.2,{scale:new h(1,1,1)}).start()},o.playWrong=function(){this.img.spriteFrame=this.wrongSpf,c(this.img.node).to(.2,{scale:new h(1.2,1.2,1.2)}).to(.2,{scale:new h(1,1,1)}).start()},s(e,[{key:"input",get:function(){return this._input},set:function(t){this._input=t,this.text.string=t,this.type==F.Input?(this.isRight=t===this._answer,this.text.string=t):this.type==F.Display&&(this.isRight=!0)}},{key:"answer",get:function(){return this._answer},set:function(t){this._answer=t}},{key:"inputIndex",get:function(){return this._inputIndex},set:function(t){this._inputIndex=t,this.img.spriteFrame=this.noramlSpf}},{key:"isChecked",get:function(){return this._isChecked},set:function(t){this.type==F.Input&&(this._isChecked=t,this._isCompleted||(this.img.spriteFrame=t?this.checkedSpf:this.noramlSpf))}},{key:"isRight",get:function(){return this._isRight},set:function(t){this._isRight=t}}]),e}(f)).prototype,"img",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"text",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(S.prototype,"noramlSpf",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(S.prototype,"checkedSpf",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(S.prototype,"wrongSpf",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"rightSpf",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/EndUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./AudioMgr.ts","./SharePop.ts","./GameData.ts"],(function(e){var i,t,n,a,r,o,l,c,s,u,h,p,m,v,b,f,d,g,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,c=e.Node,s=e.Sprite,u=e.SpriteFrame,h=e.v3,p=e.director,m=e.Component},function(e){v=e.getPlayerIcon,b=e.tag,f=e.getClassLevelName},function(e){d=e.AudioMgr},function(e){g=e.SharePop},function(e){y=e.GameData}],execute:function(){var _,C,k,w,L,P,S,T,z,A,F,D,I,E,U,B,M,N,R;r._RF.push({},"ca00fL5m8NARKpotdZXTfW9","EndUI",void 0);var j=o.ccclass,x=o.property;e("EndUI",(_=j("EndUI"),C=x(l),k=x(l),w=x(l),L=x(c),P=x(c),S=x(c),T=x(s),z=x(u),_((D=i((F=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"playerTitle",D,a(i)),n(i,"level",I,a(i)),n(i,"remain",E,a(i)),n(i,"btnContinue",U,a(i)),n(i,"btnShare",B,a(i)),n(i,"btnAgain",M,a(i)),n(i,"icon",N,a(i)),n(i,"iconFrames",R,a(i)),i._clickLabel="(not set)",i._param=null,i}t(i,e);var r=i.prototype;return r.onEnable=function(){d.inst.playOneShot("sound/xiaoju_shibai")},r.init=function(e){this._param=e;var i=v(e.level-1);-1==i?(this.icon.node.active=!1,this.playerTitle.node.active=!1,e.remainTime>0?(this.remain.node.setPosition(h(0,0,0)),this.level.node.setPosition(h(0,75,0))):(this.remain.node.active=!1,this.level.node.setPosition(h(0,60,0)))):(this.icon.node.active=!0,this.playerTitle.node.active=!0,this.icon.spriteFrame=this.iconFrames[i],e.remainTime>0?(this.remain.node.setPosition(h(0,-50,0)),this.level.node.setPosition(h(0,20,0))):(this.remain.node.active=!1,this.level.node.setPosition(h(0,-10,0)))),this.btnContinue.active=e.remainTime>0,this.btnShare.active=e.remainTime<=0,this.level.string="第"+e.level+"关未通过，请再接再厉！",e.remainTime>0&&(this.remain.string="（还可以继续挑战"+e.remainTime+"次）",this._clickLabel=this.level.string+this.remain.string),this.btnShare.active&&(navigator.share||(this.btnShare.active=!1,this.btnAgain.setPosition(h(0,-200))))},r.onClickHome=function(){b("event","custom_web_event",{clickCategory:"chengyu",clickAction:"retry",level_name:f(y.instance.ClassLevel),level:this._param.level,clickLabel:this._clickLabel}),this.node.active=!1,p.loadScene("start")},r.onClickContinue=function(){b("event","custom_web_event",{clickCategory:"chengyu",clickAction:"continue",clickLabel:this._clickLabel,level_name:f(y.instance.ClassLevel),level:this._param.level}),this.node.active=!1,this._param.shareCB(!0)},r.onClickLive=function(){var e=this;window.sharePop.getComponent(g).init({callback:function(){e.node.active=!1,e._param.shareCB(!1)}}),window.sharePop.active=!0},i}(m)).prototype,"playerTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(F.prototype,"level",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(F.prototype,"remain",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(F.prototype,"btnContinue",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(F.prototype,"btnShare",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(F.prototype,"btnAgain",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(F.prototype,"icon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(F.prototype,"iconFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=F))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/FinalUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./AudioMgr.ts","./SharePop.ts","./GameData.ts"],(function(e){var t,n,i,l,r,a,o,c,s,u,p,v,h,b,f,g,m,y,d,C,_,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.RichText,c=e.Node,s=e.Label,u=e.Sprite,p=e.SpriteFrame,v=e.v3,h=e.log,b=e.director,f=e.Component},function(e){g=e.tag,m=e.getClassLevelName,y=e.getPlayerIcon,d=e.getClassLevel},function(e){C=e.AudioMgr},function(e){_=e.SharePop},function(e){w=e.GameData}],execute:function(){var F,L,z,P,S,k,A,B,D,I,x,N,T,U,M;r._RF.push({},"7c3f9+z7BpCOZ2CwPS4fL98","FinalUI",void 0);var R=a.ccclass,G=a.property;e("FinalUI",(F=R("FinalUI"),L=G(o),z=G(c),P=G(c),S=G(s),k=G(u),A=G(p),F((I=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"level",I,l(t)),i(t,"buttons1",x,l(t)),i(t,"buttons2",N,l(t)),i(t,"playerTitle",T,l(t)),i(t,"icon",U,l(t)),i(t,"iconFrames",M,l(t)),t._param=null,t}n(t,e);var r=t.prototype;return r.onEnable=function(){C.inst.playOneShot("sound/chenggong")},r.init=function(e){g("event","level_end",{level_name:m(w.instance.ClassLevel),level:e.level,success:!0}),this._param=e,this.buttons1.active=100!=e.level,this.buttons2.active=100==e.level,this.icon.spriteFrame=this.iconFrames[y(e.level)],this.level.string="<b><color=#2A2725>英雄勇闯</color><color=#C1203B>"+e.level+"</color><color=#2A2725>关!</color></b>",this.buttons1.active&&(navigator.share||(this.buttons1.getChildByName("share").active=!1,this.buttons1.getChildByName("again").setPosition(v(0,-231))))},r.onClick=function(e,t){switch(h(e,t),t){case"next":g("event","level_start",{level_name:m(d(w.instance.CurLevel+1)),level:w.instance.CurLevel+1}),this.node.active=!1,this._param.nextCB();break;case"share":case"share_chou":window.sharePop.getComponent(_).init(),window.sharePop.active=!0}},r.onClickHome=function(){g("event","custom_web_event",{clickCategory:"chengyu",clickAction:"restart",level_name:m(w.instance.ClassLevel),level:this._param.level,clickLabel:"(not set)"}),this.node.active=!1,b.loadScene("start")},t}(f)).prototype,"level",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"buttons1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(D.prototype,"buttons2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"playerTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"iconFrames",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=D))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"f156bYsXn5CpLWF9FcEUoVm","GameData",void 0),e("GameData",function(){function e(){this._hardLevel=0,this._classLevel=0,this._curLevel=0}return t(e,[{key:"HardLevel",get:function(){return this._hardLevel},set:function(e){this._hardLevel=e}},{key:"ClassLevel",get:function(){return this._classLevel},set:function(e){this._classLevel=e}},{key:"CurLevel",get:function(){return this._curLevel},set:function(e){this._curLevel=e}}],[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts","./AnswerBlock.ts","./DisplayBlock.ts","./NextUI.ts","./EndUI.ts","./FinalUI.ts","./LevelData.ts","./Define.ts","./ShareUI.ts","./AudioMgr.ts","./TipsUI.ts","./GameData.ts"],(function(e){var t,i,n,r,l,a,s,o,u,c,h,d,p,v,f,_,g,b,m,L,y,I,w,T,C,k,N,x,U,D,S,A,z,E,M,B,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,s=e.Node,o=e.EditBox,u=e.JsonAsset,c=e.Sprite,h=e.SpriteFrame,d=e.Label,p=e.director,v=e.sys,f=e.instantiate,_=e.NodeEventType,g=e.log,b=e.Vec3,m=e.error,L=e.Component},function(e){y=e.ArrayUtil},function(e){I=e.AnswerBlock},function(e){w=e.DisplayBlock,T=e.BlockType},function(e){C=e.NextUI},function(e){k=e.EndUI},function(e){N=e.FinalUI},function(e){x=e.LevelData},function(e){U=e.isSpecialLevel,D=e.ONE_LEVEL_NUM,S=e.getClassLevel,A=e.tag,z=e.getClassLevelName},function(e){E=e.ShareUI},function(e){M=e.AudioMgr},function(e){B=e.TipsUI},function(e){F=e.GameData}],execute:function(){var R,H,O,P,G,W,J,j,V,Z,q,K,Q,X,Y,$,ee,te,ie,ne,re,le,ae,se,oe,ue,ce,he,de,pe,ve,fe,_e,ge,be,me,Le,ye,Ie,we,Te,Ce,ke,Ne;l._RF.push({},"3ad1bjyGyhBPo0HFJjrTGZz","GameScene",void 0);var xe=a.ccclass,Ue=a.property;e("GameScene",(R=xe("GameScene"),H=Ue(s),O=Ue(C),P=Ue(N),G=Ue(k),W=Ue(E),J=Ue(B),j=Ue(o),V=Ue(s),Z=Ue(u),q=Ue(s),K=Ue(s),Q=Ue(s),X=Ue(s),Y=Ue(c),$=Ue(h),ee=Ue(c),te=Ue(h),ie=Ue(d),ne=Ue(d),re=Ue(s),R((se=t((ae=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"isDebug",se,r(t)),n(t,"gameNode",oe,r(t)),n(t,"nextUI",ue,r(t)),n(t,"finalUI",ce,r(t)),n(t,"endUI",he,r(t)),n(t,"shareUI",de,r(t)),n(t,"tipsUI",pe,r(t)),n(t,"setLevel",ve,r(t)),n(t,"overNode",fe,r(t)),n(t,"levelJson",_e,r(t)),n(t,"displayModel",ge,r(t)),n(t,"answerModel",be,r(t)),n(t,"displayContainer",me,r(t)),n(t,"answerContainer",Le,r(t)),n(t,"music",ye,r(t)),n(t,"musicFrames",Ie,r(t)),n(t,"hard",we,r(t)),n(t,"hardFrames",Te,r(t)),n(t,"hardLevel",Ce,r(t)),n(t,"level",ke,r(t)),n(t,"share",Ne,r(t)),t._inputNodes=[],t._allNodes=[],t._answerNodes=[],t._curInputIndex=-1,t._data=null,t._errCnt=0,t._curHardLevel=1,t._curLevel=1,t._debugLevel=1,t._startTime=0,t._endTime=0,t._isEnd=!1,t._life=3,t}i(t,e);var l=t.prototype;return l.onLoad=function(){window.sharePop=this.share,this._life=3},l.start=function(){this.init(),p.preloadScene("start")},l.init=function(){x.instance.init(this.levelJson.json),this.isDebug?(this._debugLevel=1,this.loadWithLevel(this._debugLevel)):(this._curHardLevel=1,this._curLevel=1,this.loadLevel());var e="1"==(v.localStorage.getItem("music_on")||"1");this.music.spriteFrame=e?this.musicFrames[0]:this.musicFrames[1],e||M.inst.stop()},l.initLevelData=function(){this._errCnt=0,this._curInputIndex=-1},l.initLayout=function(e){this.initLevelData(),this._data=e,this.reloadLevel(),this.reloadDisplay(),this.reloadAnswer()},l.onPassClick=function(){var e=this,t=this.getTotalLevel();U(t)?(this.finalUI.node.active=!0,this.finalUI.init({level:this.getTotalLevel(),nextCB:function(){e._curLevel==D?(e._curHardLevel+=1,e._curLevel=1):e._curLevel+=1,e.loadLevel()}})):(this.nextUI.node.active=!0,this.nextUI.refreshUI(this._endTime-this._startTime,this.getTotalLevel()),this.nextUI.onNextCB=function(){e._curLevel==D?(e._curHardLevel+=1,e._curLevel=1):e._curLevel+=1,e.loadLevel()})},l.getTotalLevel=function(){return(this._curHardLevel-1)*D+this._curLevel},l.reloadLevel=function(){var e=S(this.getTotalLevel());F.instance.ClassLevel=e,F.instance.CurLevel=this.getTotalLevel(),this.hard.spriteFrame=this.hardFrames[e],this.hardLevel.string="难度等级："+this._curHardLevel,this.level.string="第"+this.getTotalLevel()+"关"},l.initAllNodes=function(){for(var e=0;e<9;e++){this._allNodes[e]=[];for(var t=0;t<9;t++)this._allNodes[e][t]=null}},l.reloadDisplay=function(){this.displayContainer.removeAllChildren();var e=-1,t=this._data;this._inputNodes=[],this.initAllNodes();for(var i=0;i<t.display.length;i++){var n=this.getRowCol(i),r=n[0],l=n[1];if(""!=t.display[i]){var a=f(this.displayModel);this._allNodes[r][l]=a,this.setDisplayPosition(a,r,l),a.active=!0,a.parent=this.displayContainer;var s=a.getComponent(w);a.attr({TS:s}),s.row=r,s.col=l,"_"===t.display[i]?(e++,s.type=T.Input,s.inputIndex=e,s.answer=t.answer[e],s.input="",a.on(_.TOUCH_END,this.onDisplayTouchEnd,this),this._inputNodes[e]=a,-1==this._curInputIndex&&(this._curInputIndex=e,s.isChecked=!0)):(s.type=T.Display,s.answer=t.display[i],s.input=t.display[i])}}},l.onDisplayTouchEnd=function(e){var t=e.target,i=t.TS;if(null!=i.inputIndex&&-1!=i.inputIndex&&i.type!=T.Display){-1!=this._curInputIndex&&(this._inputNodes[this._curInputIndex].TS.isChecked=!1),this._curInputIndex=t.TS.inputIndex;var n=this._inputNodes[this._curInputIndex].TS;n.isChecked=!0,""!=n.input&&(n.input="",this._answerNodes[n.answerDisplayIndex].active=!0,n.answerDisplayIndex=-1),M.inst.playOneShot("sound/down_click")}},l.reloadAnswer=function(){var e=this._data;this.answerContainer.removeAllChildren();for(var t=[],i=0;i<e.answer.length;i++)t.push(i);t=this.randomAnswer(t);var n=this.getRandomTouch(e.answer.length);this._answerNodes=[];for(var r=0;r<n.length;r++){var l=Number(n[r]),a=f(this.answerModel),o=this.getAnswerRowCol(l),u=o[0],c=o[1];g("======",u,c,e.answer[t[r]]),this.setAnswerPosition(a,u,c),a.active=!0,a.parent=this.answerContainer;var h=a.getComponent(I);a.attr({TS:h}),h.answerIndex=t[r],h.displayIndex=r,this._answerNodes[r]=a,a.on(s.EventType.TOUCH_END,this.onAnswerTouchEnd.bind(this),this),h.text.string=e.answer[t[r]]}},l.getRandomTouch=function(e){for(var t=[],i=0;i<7;i++)t.push(i);if(e>Math.floor(3.5))for(var n=7;n<14;n++)t.push(n);return(t=y.randomAll(t)).slice(0,e)},l.randomAnswer=function(e){return y.randomAll(e)},l.onAnswerTouchEnd=function(e){if(-1!=this._curInputIndex&&!this._isEnd){var t=e.target,i=t.TS;if(null!=i&&-1!=i.answerIndex){M.inst.playOneShot("sound/top_click");var n=this._inputNodes[this._curInputIndex],r=this._data.answer[i.answerIndex];n.TS.input=r,n.TS.answerDisplayIndex=i.displayIndex,n.TS.isChecked=!1,t.active=!1;var l=this.getNextInputIndex();l>=0&&l<this._inputNodes.length?(this._inputNodes[l].TS.isChecked=!0,this._curInputIndex=l):this._curInputIndex=-1,n.TS.isRight?this.checkWordRight(n.TS.row,n.TS.col):(n.TS.playWrong(),this._errCnt++,M.inst.playOneShot("sound/fail")),this.checkIsCompleted()}}},l.checkIsCompleted=function(){for(var e=this,t=!0,i=0;i<this._inputNodes.length;i++)if(!this._inputNodes[i].TS.isRight){t=!1;break}if(t){if(this._isEnd=!0,this._endTime=Math.floor((new Date).getTime()/1e3),this.isDebug)return void this.scheduleOnce((function(){e._debugLevel+=1,e.loadWithLevel(e._debugLevel)}),1);this.scheduleOnce((function(){var t=e.getTotalLevel();U(t)?(e.finalUI.node.active=!0,e.finalUI.init({level:e.getTotalLevel(),nextCB:function(){e._curLevel==D?(e._curHardLevel+=1,e._curLevel=1):e._curLevel+=1,e.loadLevel()}})):(e.nextUI.node.active=!0,e.nextUI.refreshUI(e._endTime-e._startTime,e.getTotalLevel()),e.nextUI.onNextCB=function(){e._curLevel==D?(e._curHardLevel+=1,e._curLevel=1):e._curLevel+=1,e.loadLevel()})}),.5)}else if(this._errCnt>0){if(this.isDebug)return void this.scheduleOnce((function(){e.loadWithLevel(e._debugLevel)}),1);this._isEnd=!0,this._endTime=Math.floor((new Date).getTime()/1e3),this.scheduleOnce((function(){e.endUI.node.active=!0,e.endUI.init({remainTime:e._life,level:e.getTotalLevel(),shareCB:function(t){if(t)return e._life-=1,void e.reloadCurLevel();e.shareUI.node.active=!0,e.shareUI.init({level:e.getTotalLevel(),nextCB:function(){e.reloadCurLevel()}})}})}),.5)}},l.getNextInputIndex=function(){if(this._inputNodes.length<=0)return-1;for(var e=0;e<this._inputNodes.length;e++){var t=(this._curInputIndex+1+e)%this._inputNodes.length;if(""==this._inputNodes[t].TS.input)return t}return-1},l.checkWordRight=function(e,t){if(!(e<0||e>=9||t<0||t>=9)){var i=this._allNodes[e][t];if(null!=i){for(var n,r=[],l=[i],a=t+1;a<t+4&&!(a<0||a>=9);a++){var s=this._allNodes[e][a];if(null==s)break;var o=s.getComponent(w);if(o.type==T.Display)l.push(s);else{if(!o.isRight){l=[i];break}l.push(s)}}for(var u=t-1;u>t-4&&!(u<0||u>=9);u--){var c=this._allNodes[e][u];if(null==c)break;var h=c.getComponent(w);if(h.type==T.Display)l.unshift(c);else{if(!h.isRight){l=[i];break}l.unshift(c)}}4==l.length&&(r=[].concat(l)),l=[i];for(var d=e+1;d<e+4&&!(d<0||d>=9);d++){var p=this._allNodes[d][t];if(null==p)break;var v=p.getComponent(w);if(v.type==T.Display)l.push(p);else{if(!v.isRight){l=[i];break}l.push(p)}}for(var f=e-1;f>e-4&&!(f<0||f>=9);f--){var g=this._allNodes[f][t];if(null==g)break;var b=g.getComponent(w);if(b.type==T.Display)l.unshift(g);else{if(!b.isRight){l=[i];break}l.unshift(g)}}if(4==l.length)r=(n=r).concat.apply(n,l);if(r.length>0)for(var m=0;m<r.length;m++)r[m].off(_.TOUCH_END,this.onDisplayTouchEnd,this),r[m].TS.playRight(m);M.inst.playOneShot("sound/success")}}},l.getRowCol=function(e){return[Math.floor(e/9),Math.floor(e%9)]},l.getAnswerRowCol=function(e){return[Math.floor(e/7),Math.floor(e%7)]},l.setAnswerPosition=function(e,t,i){if(!(t<0||t>=7||i<0||i>=7)){var n=7+101*i+47,r=-21-104*t-47;e.setPosition(new b(n,r,0))}},l.setDisplayPosition=function(e,t,i){if(!(t<0||t>=9||i<0||i>=9)){var n=20+74*i+34,r=-20-74*t-34;e.setPosition(new b(n,r,0))}},l.onClick=function(e,t){switch(t){case"back":this.onClickBack();break;case"set":this.onClickSet(t);break;case"restart":this.onClickBack();break;case"pre":case"next":this.onClickSet(t);break;case"music":this.onClickMusic();break;case"tips":A("event","tutorial_begin"),this.tipsUI.node.active=!0,this.tipsUI.init({type:1})}},l.onClickSet=function(e){var t=1;"set"==e?t=Number(this.setLevel.string):"pre"==e?t=this._debugLevel-1:"next"==e&&(t=this._debugLevel+1),t<1?t=1:t>170&&(t=170),this.loadWithLevel(t)},l.onClickMusic=function(){var e="1"==(v.localStorage.getItem("music_on")||"1");A("event","custom_web_event",{clickCategory:"chengyu",clickAction:e?"mute":"unmute",clickLabel:"(not set)"}),e?(e=!1,v.localStorage.setItem("music_on","0"),M.inst.stop()):(e=!0,v.localStorage.setItem("music_on","1"),M.inst.play("audio/bg")),this.music.spriteFrame=e?this.musicFrames[0]:this.musicFrames[1]},l.loadWithLevel=function(e){this._isEnd=!1,this._startTime=Math.floor((new Date).getTime()/1e3);var t=x.instance.getLevelDataByLevel(e);this._debugLevel=e,null!=t?(this.initLayout(t),this.level.string="第"+this._debugLevel+"关"):m("调试关卡不存在",this._debugLevel)},l.loadLevel=function(){this._isEnd=!1,this._startTime=Math.floor((new Date).getTime()/1e3);var e=x.instance.getLevelDataByHardLevel(this._curHardLevel);if(null==e)return this.overNode.active=!0,void m("关卡不存在",this._curHardLevel,this._curLevel);this.initLayout(e)},l.reloadCurLevel=function(){this._isEnd=!1,this._startTime=Math.floor((new Date).getTime()/1e3),this.initLayout(this._data)},l.onClickBack=function(){A("event","custom_web_event",{clickCategory:"chengyu",clickAction:"home",level_name:z(F.instance.ClassLevel),level:this.getTotalLevel(),clickLabel:"(not set)"}),p.loadScene("start")},t}(L)).prototype,"isDebug",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=t(ae.prototype,"gameNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ae.prototype,"nextUI",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ae.prototype,"finalUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ae.prototype,"endUI",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ae.prototype,"shareUI",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ae.prototype,"tipsUI",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ae.prototype,"setLevel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ae.prototype,"overNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ae.prototype,"levelJson",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ae.prototype,"displayModel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ae.prototype,"answerModel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ae.prototype,"displayContainer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ae.prototype,"answerContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ae.prototype,"music",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ae.prototype,"musicFrames",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(ae.prototype,"hard",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ae.prototype,"hardFrames",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ae.prototype,"hardLevel",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ae.prototype,"level",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ae.prototype,"share",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=ae))||le));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./MathUtil.ts"],(function(e){var l,t,a,i,n;return{setters:[function(e){l=e.createClass},function(e){t=e.cclegacy,a=e.log},function(e){i=e.ONE_LEVEL_DATA_NUM},function(e){n=e.MathUtil}],execute:function(){t._RF.push({},"31cf12uYlFO+5KTVA7n28Dy","LevelData",void 0),e("LevelData",function(){function e(){this._levelDatas=[],this._gotLevelForHardLevel={}}var t=e.prototype;return t.init=function(e){this._levelDatas=e,this._gotLevelForHardLevel={}},t.debug=function(){for(var e=[],l=0;l<this._levelDatas.length;l++){for(var t=this._levelDatas[l],a={},i=0,n=0;n<9;n++)for(var s=0;s<9;s++)"_"==t.display[9*n+s]&&(a[9*n+s]=t.answer[i],i+=1);var r=[],v=0;do{var o=0;do{var u=9*v+o;if(""!=t.display[u]){if(v<=5&&t.display[u+9]&&t.display[u+18]&&t.display[u+27]){for(var h="",f=0;f<4;f++)"_"==t.display[u+9*f]?h+=""+a[u+9*f]:h+=t.display[u+9*f];r.push(h)}if(o<=5&&t.display[u+1]&&t.display[u+2]&&t.display[u+3]){for(var c="",d=0;d<4;d++)"_"==t.display[u+d]?c+=""+a[u+d]:c+=t.display[u+d];r.push(c)}}o++}while(o<9);v++}while(v<9);e.push({name:"第"+t.level+"关",chengyus:r})}console.log(JSON.stringify(e))},t.getLevelDataByHardLevel=function(e){if(e>10||e<=0)return null;var l=(e-1)*i+1,t=e*i,s=this._gotLevelForHardLevel[e];null==s&&(s=[]);for(var r=[],v=0;v<this._levelDatas.length;v++){var o=this._levelDatas[v];if(o.level>=l&&o.level<=t){if(s.indexOf(o.level)>-1){a("难度等级"+e+",已经选过"+o.level);continue}r.push(o)}}if(0==r.length)return a("关卡数据清零"),this._gotLevelForHardLevel[e]=null,this.getLevelDataByHardLevel(e);var u=n.random(0,r.length-1);return s.push(r[u].level),this._gotLevelForHardLevel[e]=s,a("难度等级"+e+",选择"+r[u].level),r[u]},t.getLevelDataByLevel=function(e){for(var l=0;l<this._levelDatas.length;l++){var t=this._levelDatas[l];if(t.level==e)return t}return null},l(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AudioMgr.ts","./LevelData.ts","./AnswerBlock.ts","./ButtonEffect.ts","./CreateScene.ts","./Define.ts","./DisplayBlock.ts","./EndUI.ts","./FinalUI.ts","./GameData.ts","./GameScene.ts","./Monster.ts","./NextUI.ts","./SharePop.ts","./ShareUI.ts","./StartScene.ts","./StoreUtil.ts","./TipsUI.ts","./ArrayUtil.ts","./MathUtil.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8798a85qsBABrCl5qYGfnzF","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.random=function(t,n){if(t>=n)return n;var r=Math.random()*(n-t+1);return t+Math.floor(r)},t.randomInt=function(t,n){return Math.floor(Math.random()*(n-t))+t},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,s,o,i,n,c,p,u;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,s=r.initializerDefineProperty,o=r.assertThisInitialized,i=r.createClass},function(r){n=r.cclegacy,c=r._decorator,p=r.ProgressBar,u=r.Component}],execute:function(){var a,l,h,f,g;n._RF.push({},"b8171/lY/9MEYUkhS4vTBKm","Monster",void 0);var _=c.ccclass,y=c.property;r("Monster",(a=_("Monster"),l=y(p),a((g=t((f=function(r){function t(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t=r.call.apply(r,[this].concat(i))||this,s(t,"hpProgress",g,o(t)),t._totalHp=1,t._curHp=1,t}return e(t,r),t.prototype.hurt=function(r){void 0===r&&(r=1);var t=this._curHp-r;t<0&&(t=0),this._curHp=t,this.hpProgress.progress=this._curHp/this._totalHp},i(t,[{key:"hp",get:function(){return this._curHp},set:function(r){this._totalHp=r,this._curHp=r,this.hpProgress.progress=1}}]),t}(u)).prototype,"hpProgress",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/NextUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./Define.ts","./GameData.ts"],(function(e){var t,n,o,r,i,l,c,a,u,s,f,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,c=e.Button,a=e.RichText,u=e.Component},function(e){s=e.AudioMgr},function(e){f=e.tag,p=e.getClassLevelName},function(e){h=e.GameData}],execute:function(){var v,b,g,m,x,y,C,N,d,_,A;i._RF.push({},"e2217Zqg4NG6IW0qNE/ES43","NextUI",void 0);var B=l.ccclass,I=l.property;e("NextUI",(v=B("NextUI"),b=I(c),g=I(a),m=I(a),x=I(a),v((N=t((C=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this).onNextCB=null,o(t,"nextBtn",N,r(t)),o(t,"time",d,r(t)),o(t,"level",_,r(t)),o(t,"hit",A,r(t)),t._level=0,t}n(t,e);var i=t.prototype;return i.onEnable=function(){s.inst.playOneShot("sound/xiaoju_chengong")},i.onClickNext=function(){f("event","level_up",{level_name:p(h.instance.ClassLevel),level:this._level+1}),this.node.active=!1,this.onNextCB&&this.onNextCB()},i.refreshUI=function(e,t){this._level=t;var n="";n=e>=60?Math.floor(e/60)+"分"+e%60+"秒":e%60+"秒",this.time.string="<b><color=#2A2725>用时:</color><color=#C1203C>"+n+"</color></b>",this.level.string="<b><color=#2A2725>完成第</color><color=#C1203B>"+t+"</color><color=#2A2725>关</color></b>";var o=0;o=e<1?99.99:e<2?99:e<3?98:Math.max(50,100-e),this.hit.string="<b><color=#2A2725>击败</color><color=#C1203C>"+o+"%</color><color=#2A2725>玩家</color></b>"},i.start=function(){},i.update=function(e){},t}(u)).prototype,"nextBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(C.prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(C.prototype,"level",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"hit",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/SharePop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./GameData.ts"],(function(a){var t,e,n,i,o,r,c,s,p,l,u,h,f,m,v,g,w;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,n=a.initializerDefineProperty,i=a.assertThisInitialized,o=a.asyncToGenerator,r=a.regeneratorRuntime},function(a){c=a.cclegacy,s=a._decorator,p=a.Node,l=a.log,u=a.tween,h=a.Vec3,f=a.Component,m=a.UIOpacity},function(a){v=a.tag,g=a.getClassLevelName},function(a){w=a.GameData}],execute:function(){var d,b,y,_,k,L,D,I,S;c._RF.push({},"78b20uWm5tFLZLLefBwJclL","SharePop",void 0);var C=s.ccclass,q=s.property,x="http://games.zaobao.com.sg/chengyu/",P="闯百关，当学霸！",z="【联合早报成语填字游戏】挑战100关的谜题，玩完封状元！";a("SharePop",(d=C("SharePop"),b=q(p),y=q(p),_=q(p),d((D=t((L=function(a){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=a.call.apply(a,[this].concat(o))||this,n(t,"pop",D,i(t)),n(t,"mask",I,i(t)),n(t,"copyTip",S,i(t)),t._param=null,t}e(t,a);var c=t.prototype;return c.init=function(a){l("========init"),this._param=a,v("event","share",{level_name:g(w.instance.ClassLevel),level:w.instance.CurLevel})},c.onEnable=function(){var a=o(r().mark((function a(){var t;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l("========onEnable"),this.pop.setPosition(new h(0,-256,0)),this.mask.active=!0,this.copyTip.active=!1,t={title:P,text:z,url:x},!navigator.share||!navigator.canShare(t)){a.next=14;break}return this.getComponent(m).opacity=0,this.node.active=!1,a.next=10,navigator.share(t);case 10:return this._param&&this._param.callback&&this._param.callback(),a.abrupt("return");case 14:this.getComponent(m).opacity=255;case 15:u().target(this.pop).to(.2,{position:new h(0,255,0)},{easing:"quadIn"}).start();case 16:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}(),c.onClose=function(){var a=this;u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){a.node.active=!1})).start()},c.onShare=function(a,t){var e=this;if("facebook"==t)new Sharer({sharer:"facebook",hashtag:P,url:x}).share(),u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){e.node.active=!1,e._param&&e._param.callback&&e._param.callback()})).start();else if("whatsapp"==t)new Sharer({sharer:"whatsapp",title:P,description:z,url:x}).share(),u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){e.node.active=!1,e._param&&e._param.callback&&e._param.callback()})).start();else if("instagram"==t){var n=window.open("https://www.instagram.com/");window.focus&&n.focus(),u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){e.node.active=!1,e._param&&e._param.callback&&e._param.callback()})).start()}else if("wechat"==t){var i=window.open("https://www.wechat.com/");window.focus&&i.focus(),u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){e.node.active=!1,e._param&&e._param.callback&&e._param.callback()})).start()}else if("copy_link"==t){var o=function(a){a.clipboardData.setData("text/plain",x),a.preventDefault()};document.addEventListener("copy",o),document.execCommand("copy"),document.removeEventListener("copy",o),u().target(this.pop).to(.2,{position:new h(0,-256,0)},{easing:"quadIn"}).call((function(){e.mask.active=!1,e.copyTip.active=!0})).delay(1).call((function(){e.node.active=!1})).start()}},t}(f)).prototype,"pop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(L.prototype,"mask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(L.prototype,"copyTip",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=L))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/ShareUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(n){var t,o,r,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,r=n._decorator,e=n.Component},function(n){i=n.AudioMgr}],execute:function(){var a;o._RF.push({},"de31dqrznFFBpsyvZSvBNw4","ShareUI",void 0);var c=r.ccclass;r.property,n("ShareUI",c("ShareUI")(a=function(n){function o(){for(var t,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(t=n.call.apply(n,[this].concat(r))||this)._param=null,t}t(o,n);var r=o.prototype;return r.onEnable=function(){i.inst.playOneShot("sound/xiaoju_chengong")},r.init=function(n){this._param=n},r.onContinueClick=function(){this.node.active=!1,this._param.nextCB()},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/StartScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./SharePop.ts","./TipsUI.ts","./Define.ts"],(function(e){var t,i,n,r,a,o,s,c,l,u,p,m,h,f,g,b,d,S,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,c=e.Sprite,l=e.SpriteFrame,u=e.director,p=e.sys,m=e.assetManager,h=e.AudioClip,f=e.log,g=e.Component},function(e){b=e.AudioMgr},function(e){d=e.SharePop},function(e){S=e.TipsUI},function(e){y=e.tag}],execute:function(){var v,k,_,C,F,I,w,z,D,M,U,A,L;a._RF.push({},"bdf85lhmQVNCoqelW1BTLrV","StartScene",void 0);var N=!1,P=o.ccclass,T=o.property;e("StartScene",(v=P("StartScene"),k=T(s),_=T(s),C=T(S),F=T(c),I=T(l),v((D=t((z=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"startNode",D,r(t)),n(t,"share",M,r(t)),n(t,"tipsUI",U,r(t)),n(t,"music",A,r(t)),n(t,"musicFrames",L,r(t)),t}i(t,e);var a=t.prototype;return a.start=function(){u.preloadScene("game"),b.inst.init();var e="1"==(p.localStorage.getItem("music_on")||"1");this.music.spriteFrame=e?this.musicFrames[0]:this.musicFrames[1],e||b.inst.stop(),N||(m.loadBundle("resources",(function(e,t){null==e&&t.load("audio/bg",h,(function(e,i){t.preloadDir("sound"),null==e&&(f("==========play music"),b.inst.play(i,.5))}))})),N=!0)},a.onDestroy=function(){},a.onClick=function(e,t){switch(t){case"start":this.onClickStart();break;case"share":this.onClickShare();break;case"debug":u.loadScene("debug");break;case"music":this.onClickMusic();break;case"tips":y("event","tutorial_begin"),this.tipsUI.node.active=!0,this.tipsUI.init({type:1})}},a.onClickStart=function(){y("event","level_start",{level_name:"tongshi",level:1}),u.loadScene("game")},a.onClickShare=function(){this.share.getComponent(d).init(),this.share.active=!0},a.onClickMusic=function(){var e="1"==(p.localStorage.getItem("music_on")||"1");y("event","custom_web_event",{clickCategory:"chengyu",clickAction:e?"mute":"unmute",clickLabel:"(not set)"}),e?(e=!1,p.localStorage.setItem("music_on","0"),b.inst.stop()):(e=!0,p.localStorage.setItem("music_on","1"),b.inst.play("audio/bg")),this.music.spriteFrame=e?this.musicFrames[0]:this.musicFrames[1]},t}(g)).prototype,"startNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"share",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"tipsUI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"music",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"musicFrames",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=z))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/StoreUtil.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t.sys}],execute:function(){e._RF.push({},"58249ngb4lMpaRNa6CmTf+4","StoreUtil",void 0);t("StoreUtil",function(){function t(){}return t.store=function(t){n.localStorage.setItem("level",t.toString())},t.getLevel=function(){var t=1,e=n.localStorage.getItem("level");return null!=e&&(t=Math.max(Number(e),1)),t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TipsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(n){var t,e,i,r,o,c,l,a,u,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,c=n._decorator,l=n.Label,a=n.RichText,u=n.Component},function(n){s=n.tag}],execute:function(){var p,b,f,h,y,v,g;o._RF.push({},"a9f436CeQVB2aFmr/tRTB3k","TipsUI",void 0);var T=c.ccclass,d=c.property;n("TipsUI",(p=T("TipsUI"),b=d(l),f=d(a),p((v=t((y=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=n.call.apply(n,[this].concat(o))||this,i(t,"title",v,r(t)),i(t,"content",g,r(t)),t}e(t,n);var o=t.prototype;return o.init=function(n){this.content.string="<color=#000000><b>联合早报成语填字游戏规则</b>\n\n欢迎来到联合早报成语填字游戏！\n \n<b>游戏目标</b>\n填选正确汉字，便能解开成语谜题，感受成语的魅力。\n\n<b>游戏玩法</b>\n1. 从字库选填指定空格，以组合完整成语。你也可以点选其他空格并进行填字。\n2. 成功解答所有谜题后，你将自动进入下一关。\n3. 一旦选择错误的单字，便是闯关失败。你将有3次挑战机会，失败3次以后，你将只能选择“分享复活”或“从头挑战”。\n\n<b>游戏级别</b>\n* 难度： 分别为童试、乡试、会试和殿试等级，成语的难度和题数会随着级别增加。\n* 称号： 有秀才、举人、贡士、进士等称号，完成百关便可获封状元。\n\n<b>温馨提示</b>\n* 中途退出游戏或者关闭游戏窗口将会失去并重置游戏进度。\n\n<b>提示与技巧</b>\n* 利用已知的成语来帮助你猜测空白处的单字。\n* 尝试从成语的一部分推断整个成语。\n* 仔细看须填的空格在哪里。<color>"},o.onClose=function(){s("event","tutorial_complete"),this.node.active=!1},t}(u)).prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(y.prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});